import{a as b,S as L,i as h}from"./assets/vendor-64b55ca9.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();async function y(t,o,r){new URLSearchParams({page:o,per_page:r});const s="10232217-e697c3d56777d20dc0cbe8fb5",e=t;return(await b.get(`https://pixabay.com/api/?key=${s}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=${r}`)).data}function g(t,o,r){const s=t.hits.map(e=>`<li class="gallery-item"><a href="${e.largeImageURL}">
            <img class="gallery-image" src="${e.webformatURL}" alt="${e.tags}"></a>
            <p><b>Likes: </b>${e.likes}</p>
            <p><b>Views: </b>${e.views}</p>
            <p><b>Comments: </b>${e.comments}</p>
            <p><b>Downloads: </b>${e.downloads}</p>
            </li>`).join("");o.insertAdjacentHTML("beforeend",s),new L(".gallery a",r)}const p=document.querySelector(".form"),i=document.querySelector(".gallery"),w=document.querySelector("input"),S=document.querySelector(".container"),u=document.querySelector(".btn-load");let l=1,q=15;const f=()=>{const t=document.createElement("span");t.classList.add("loader"),S.append(t)},d=()=>{const t=document.querySelector(".loader");t&&t.remove()},m=()=>{u.style.display="block"},c=()=>{u.style.display="none"};function v(t,o){return t>=o}const E={captions:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionPosition:"bottom",captionDelay:250};p.addEventListener("submit",async t=>{f(),l=1,t.preventDefault(),i.innerHTML="";const o=w.value;try{const r=await y(o,l,q);if(g(r,i,E),p.reset(),d(),m(),r.hits.length===0){h.error({title:"",backgroundColor:"#EF4040",message:"Sorry, there are no images matching your search query. Please try again!"});const s=document.querySelector(".gallery");if(s&&s.firstElementChild){const{height:e}=s.firstElementChild.getBoundingClientRect();window.scrollBy({top:e*2,behavior:"smooth"})}}v(i.children.length,r.totalHits)?c():m()}catch(r){console.log(r),c()}});u.addEventListener("click",async()=>{f();try{l+=1;const t=await y();g(t,i),d();const o=document.querySelector(".gallery");if(o&&o.firstElementChild){const{height:r}=o.firstElementChild.getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}i.children.length>=t.totalHits&&(h.warning({title:"",message:"We are sorry, but you have reached the end of search results."}),c())}catch(t){console.log(t),d(),c()}});
//# sourceMappingURL=commonHelpers.js.map
